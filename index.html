<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <link rel="stylesheet" href="font/iconfont.css">
    <link rel="stylesheet" href="font1/iconfont.css">
    <link rel = "stylesheet"type = "text/css"href="css/index.css">
    <title>index</title>
</head>

<body>
    <div id="nav">
        <div id="logo">
            <img src="img/logo1.jpg" alt="">
        </div>
        <ul id="navchoose">
            <li><a href="#">首页</a></li>
            <li><a href="html/SpotInformation.html">景区概况</a></li>
            <li><a href="html/TravelStrategy.html">旅游攻略</a></li>
            <li><a href="cookie/list.html">网上预订</a></li>
            <li><a href="ajax/index.html">用户注册</a></li>
            <li><a href="ajax2/index.html">管理员注册</a></li>
        </ul>
        <!-- <div id = "corner">
            <span><a href = "#">&gt;</a></span>
        </div> -->
    </div>
    <div id="back">
        <img id="vip" src="img/vip.png">
        <div id="banner">
            <ul>
                <li><img src="img/banner1.jpg" /></li>
                <li><img src="img/banner2.jpg" /></li>
                <li><img src="img/banner3.jpg" /></li>
                <li><img src="img/banner4.jpg" /></li>
                <li><img src="img/banner5.jpg" /></li>
            </ul>
            <div id="dir">
                <a href="##">&lt;</a>
                <a href="##">&gt;</a>
            </div>
            <div id="circular">
                <a href="##" class="active"></a>
                <a href="##"></a>
                <a href="##"></a>
                <a href="##"></a>
                <a href="##"></a>
            </div>
        </div>
    </div>
    <div id="information">
        <div class="inf1">
            <img src="img/xinxi.png">
        </div>
        <ul id="btn">
            <li><a class="active" href="#">旅游资讯</a></li>
            <li><a href="#">特色小吃</a></li>
            <li><a href="#">旅游攻略</a></li>
        </ul>
    </div>
    <div id="adv">
        <div id="content">
            <ul id="pic">
                <div class="maxPic">
                    <div id="filter"></div>
                    <img src="img/tu1-big4.jpg" data-src="img/tu1-big4.jpg" id="js_maxPic">
                </div>
                <div class="smallPics">
                    <div>
                        <img src="img/tu1-small4.jpg" data-src="img/tu1-big4.jpg">
                    </div>
                    <div>
                        <img src="img/tu1-small2.jpg" data-src="img/tu1-big2.jpg">
                    </div>
                    <div>
                        <img src="img/tu1-small3.jpg" data-src="img/tu1-big3.jpg">
                    </div>
                    <!-- <div>
                        <img src="img/tu1-small4.jpg" data-src="img/tu1-big4.jpg">
                    </div> -->
                    <!-- <div>
                        <img src="img/tu1-small5.jpg" data-src="img/tu1-big5.jpg">
                    </div> -->
                </div>
                <div class="maxImg">
                    <img src="img/tu1-big1.jpg" id="JS_maxPic">
                    <dl class="maxImg1">
                        <dd>
                            <img src="img/12.jpg" alt="景区信息">
                            <img src="img/8.jpg"></span>
                            <img src="img/9.jpg"></span>
                        </dd>
                        <dt>
                            <span>四围峥嵘，八面玲珑。重重晓色映晴霞，沥沥泉声飞瀑布。涧溪中流水飞琼，石壁上堆蓝叠翠。
                                　　白云洞口，紫藤高挂绿萝垂；碧玉峰前，丹桂悬崖千蔓袅。引苍猿献果，呼麋鹿含花。
                                　　千峰竟秀，夜深白鹤听仙经；万壑争流，风暖闲禽相对语。地僻凡尘飞不到，山高车马几时临。</span>
                        </dt>
                    </dl>
                </div>

            </ul>
            <ul class="eat">
                <li>
                    <img src="img/eat5.png">
                    <span>佛跳墙，又名满坛香、福寿全，是福建福州的当地名菜，属闽菜系。佛跳墙通常选用鲍鱼、海参、鱼唇、牦牛皮胶、杏鲍菇、蹄筋、花菇、墨鱼、瑶柱、鹌鹑蛋等汇聚到一起，加入高汤和绍兴酒，文火煨制而成。</span>
                </li>
                <li>
                    <img src="img/eat6.jpg">
                    <span>小龙虾体内的蛋白质含量很高，且肉质松软，易消化，对身体虚弱以及病后需要调养的人是极好的食物；虾肉内还富含镁、锌、碘、硒等，镁对心脏活动具有重要的调节作用，能保护心血管系统。</span>
                </li>
                <li>
                    <img src="img/eat7.jpg">
                    <span>肉蟹煲又名缅甸肉蟹、缅甸黑蟹、缅甸石蟹，是一道由肉蟹、鸡爪、辣酱做成的美食。肉蟹原产于缅甸、孟加拉一带海中，味道鲜、嫩，蟹肉味浓香。可与生姜搭配来降低寒气。</span>
                </li>
                <li>
                    <img src="img/eat1.png">
                    <span>小笼包，别称小笼馒头，在苏南、上海、浙江一带习惯叫做小笼馒头，四川叫做小笼包子，武汉叫做蒸包，一个蒸笼里有10个包子，10个包子为一笼，它源于北宋京城开封的灌汤包，南宋时在江南承传、发展和演变而成。</span>
                </li>
            </ul>
            <ul id="list">
                <li><img src="img/11.jpg"><span>春季万物复苏，阳春三月，冰河解冻，正是与家人们一起春游的好季节。</span></li>
                <li><img src="img/tu1-big2.jpg"><span>凛冬之时，虽冰天雪地，但天地一片雪白，万物寂静仍不失为赏景之时，外出游玩需注意交通安全。</span></li>
            </ul>
        </div>
    </div>
    <div id="information2">
        <div class="inf2">
            <img src="img/xinxi1.png">
        </div>
        <ul id="btn1">
            <li><a class="active1" href="#">酒店信息</a></li>
            <li><a href="#">休闲娱乐</a></li>
        </ul>
    </div>
    <div id="adv2">
        <div id="content2">
            <div>
                <ul id="list2">
                </ul>
            </div>
            <div>
                <ul id="list3">
                    <li>
                        <img src="img2/1.jpg">
                        <span>部分景区周围具备泳池、沙滩等娱乐设施可供游客放松娱乐需要。</span>
                    </li>
                    <li>
                        <img src="img2/4.jpg">
                        <span>景区位于海岸线区域，漫长的海岸线以及沙滩可供游客在饭后之步行欣赏。</span>
                    </li>
                    <li>
                        <img src="img2/7.jpg">
                        <span>景区附近高级酒店配备了高级餐厅、咖啡厅等供游客一天疲劳旅游后休息吃饭场所。</span>
                    </li>
                    <li>
                        <img src="img2/8.jpg">
                        <span>海底世界是大多数孩子的喜爱。旅游之余家长可陪同游玩。</span>
                    </li>
                </ul>
            </div>
        </div>
    </div>
    <div class="footer">
        <dl><img src="img/xinxi2.png"></dl>
        <ul>
            <li><span class="sp"><i class="iconfont">&#xe535;</i></span><a href="#">官方手Q账号</a></li>
            <li><span class="sp"><i class="iconfont">&#xe681;</i></span><a href="#">官方微信账号</a></li>
            <li><span class="sp"><i class="iconfont">&#xe503;</i></span><a href="#">兴趣部落</a></li>
            <li><span class="sp"><i class="iconfont">&#xe609;</i></span><a href="#">官方空间</a></li>
            <li><span class="sp"><i class="iconfont">&#xe534;</i></span><a href="#">话费开通专区</a></li>
            <li><span class="sp"><i class="iconfont">&#xe60a;</i></span><a href="#">兑换中心</a></li>
            <li><span class="sp"><i class="iconfont">&#xe620;</i></span><a href="#">客服中心</a></li>
        </ul>
    </div>
    <div id="designer">
        <span>Designed&nbsp;By&nbsp;DZH&nbsp;From&nbsp;JK1505</span>
    </div>
</body>

</html>
<script src="js/common.js"></script>
<script>
    function Play() {
        this.banner = document.getElementById("banner");
        this.oUl = this.banner.getElementsByTagName("ul")[0];
        this.aLi = this.oUl.getElementsByTagName("li");
        this.aDir = document.querySelectorAll("#dir>a");
        this.aA = document.querySelectorAll("#circular>a");
        this.iw = this.aLi[0].offsetWidth;
        this.iNow = 0;
        this.timer = null;
        this.init();
    }
    Play.prototype = {
        init: function () {

            this.direction1();
            this.direction2();
            this.autoplay();
            var li = this.aLi[0].cloneNode(true);
            this.oUl.appendChild(li);
            this.oUl.style.width = this.aLi.length * this.iw + 'px';
            this.onmouseover();
            this.onmouseout();
            this.circulover();

        },

        direction1: function () {
            this.aDir[0].addEventListener("click", this.direction1callback.bind(this))
        },
        direction1callback: function () {
            if (this.iNow == 0) {
                this.iNow = this.aLi.length - 2;
                this.oUl.style.left = -(this.aLi.length - 1) * this.iw + 'px';
            } else {
                this.iNow--;
            }
            this.toImg();
        },
        direction2: function () {
            this.aDir[1].addEventListener("click", this.direction2callback.bind(this))
        },
        direction2callback: function () {
            if (this.iNow == this.aLi.length - 1) {
                this.iNow = 1;
                this.oUl.style.left = 0;
            } else {
                this.iNow++;
            }

            this.toImg();
        },

        onmouseover: function () {
            this.banner.addEventListener("mouseover", this.onmouseovercallback.bind(this))
        },
        onmouseovercallback: function () {
            clearInterval(this.timer);
        },
        onmouseout: function () {
            this.banner.addEventListener("mouseout", this.onmouseoutcallback.bind(this));
        },
        onmouseoutcallback: function () {
            this.autoplay();
        },
        circulover: function () {
            for (var i = 0; i < this.aA.length; i++) {
                this.aA[i].index = i;
                this.aA[i].addEventListener("mouseover", this.circlecallback.bind(this, this.aA[i]))
            }
        },
        circlecallback: function (that) {
            for (var j = 0; j < this.aA.length; j++) {
                this.aA[j].className = '';
            }
            that.className = 'active';
            this.iNow = that.index;
            this.toImg();
        },
        autoplay: function () {
            this.timer = setInterval(this.autoplaycallback.bind(this), 2000)
        },
        autoplaycallback: function () {
            if (this.iNow == this.aLi.length - 1) {
                this.iNow = 1;
                this.oUl.style.left = 0;
            } else {
                this.iNow++;
            }

            this.toImg();
        },
        toImg: function () {
            for (var i = 0; i < this.aA.length; i++) {
                this.aA[i].className = '';
            }
            this.aA[this.iNow == this.aLi.length - 1 ? 0 : this.iNow].className = 'active';

            move(this.oUl, {
                left: -this.iNow * this.iw
            });

        }

    }
    new Play();

    //选项卡
    function ToggleTab() {
        this.aBtn = document.getElementById("btn").getElementsByTagName("li");
        this.aDiv = document.getElementById("content").getElementsByTagName("ul");
        this.init();
    }

    ToggleTab.prototype = {
        init: function () {
            this.toggleBtn();
        },
        toggleBtn: function () {
            var _this = this;
            for (var i = 0; i < this.aBtn.length; i++) {
                this.aBtn[i].index = i;
                this.aBtn[i].addEventListener("mouseover", this.toggleCb.bind(this, this.aBtn[i]))
            }
        },
        toggleCb: function (that) {
            for (var j = 0; j < this.aBtn.length; j++) {
                this.aBtn[j].className = '';
                this.aDiv[j].style.display = 'none';
            }

            that.className = 'active';
            this.aDiv[that.index].style.display = 'block';

        }
    }


    new ToggleTab();
    // 放大镜
    var oPic = document.querySelector("#pic");
    var oImg = document.querySelectorAll(".smallPics img"); //获取
    var oMaxPic = document.getElementById("js_maxPic"); //获取
    for (var i = 0; i < oImg.length; i++) {
        oImg[i].onmouseover = function (e) { //添加图片移入事件
            // e.stopPropagation?e.stopPropagation():e.cancelBubble = true;
            var src = this.getAttribute("data-src"); //通过自定义属性进行图片链接绑定
            oMaxPic.src = src;

        }
    }

    var omaxPic = document.querySelector(".maxPic");
    var oFilter = document.getElementById("filter");
    var oPic = document.getElementById("pic");
    var ojs_maxPic = document.getElementById("JS_maxPic");
    // for(var i = 0;i<oImg.length;i++){
    //     oImg[i].onmouseover = function(){
    // 		var src = this.getAttribute("data-src");
    // 		ojs_maxPic.src = src;
    // 	}
    // }
    // var omaxImg = document.querySelector(".maxImg");
    omaxPic.onmouseover = function () {
        oFilter.style.display = "block"; //如果鼠标移入 则显示OFilter
        // for(var i = 0;i<oImg.length;i++){
        //      var src = this.getAttribute("data-src");
        //       ojs_maxPic.src = src;
        // }
        ojs_maxPic.style.display = "block"; //右边放大的图显示
        var src = this.children[1].getAttribute("src"); //获取到左边大图的src
        ojs_maxPic.src = src; //让右边放大后的大图的src为左边图片的src 即可完成放大的作用

        // console.log(this);
    }
    // 完成OFilter跟随鼠标移动 并且鼠标一直位于中心位置 完成拖拽
    omaxPic.onmousemove = function (e) {
        var x = e.clientX - offset(oPic).l - oFilter.offsetWidth / 2;
        var y = e.pageY - offset(oPic).t - oFilter.offsetHeight / 2;
        x = x >= omaxPic.offsetWidth - oFilter.offsetWidth ? omaxPic.offsetWidth - oFilter.offsetWidth : x <= 0 ?
            0 : x;
        y = y >= omaxPic.offsetHeight - oFilter.offsetHeight ? omaxPic.offsetHeight - oFilter.offsetHeight : y <=
            0 ? 0 : y;
        oFilter.style.left = x + "px";
        oFilter.style.top = y + "px";
        ojs_maxPic.style.left = -2 * x + "px";
        ojs_maxPic.style.top = -2 * y + "px";
    }
    omaxPic.onmouseout = function () {
        oFilter.style.display = "none";
        ojs_maxPic.style.display = "none";
    }

    //选项卡2
    function ToggleTab2() {
        this.aBtn = document.getElementById("btn1").getElementsByTagName("li");
        this.aDiv = document.getElementById("content2").getElementsByTagName("div");
        this.init();
    }

    ToggleTab2.prototype = {
        init: function () {
            this.toggleBtn();
        },
        toggleBtn: function () {
            var _this = this;
            for (var i = 0; i < this.aBtn.length; i++) {
                this.aBtn[i].index = i;
                this.aBtn[i].addEventListener("mouseover", this.toggleCb.bind(this, this.aBtn[i]))
            }
        },
        toggleCb: function (that) {
            for (var j = 0; j < this.aBtn.length; j++) {
                this.aBtn[j].className = '';
                this.aDiv[j].style.display = 'none';
            }

            that.className = 'active';
            this.aDiv[that.index].style.display = 'block';

        }
    }


    new ToggleTab2();


    //列项不规则排列图片
    var str = "";
    for (var i = 0; i < 8; i++) {
        str += `<li>
            <img src="img1/${i + 1}.jpg"/>
        </li>`
    }
    var oList = document.getElementById("list2");
    oList.innerHTML = str;

    window.onload = function () {
        var aLi = oList.getElementsByTagName("li");
        var iH = [];
        for (var i = 0; i < 4; i++) {
            aLi[i].style.position = "absolute";
            aLi[i].style.left = i * (202 + 20) + 'px';
            aLi[i].style.top = 0;
            iH[i] = aLi[i].offsetHeight;
        }

        for (var i = 4; i < aLi.length; i++) {
            var index = getIndex(iH);
            aLi[i].style.position = "absolute";
            aLi[i].style.left = index * (202 + 20) + 'px';
            aLi[i].style.top = iH[index] + 20 + 'px';
            iH[index] = iH[index] + aLi[i].offsetHeight + 10;
        }

        function getIndex(arr) {
            var min = arr[0];
            var index = 0;

            for (var i = 0; i < arr.length; i++) {
                if (min > arr[i]) {
                    min = arr[i];
                    index = i;
                }
            }

            return index;
        }
    }
    // 列项排列图片2
    // var str = "";
    // for (var i = 0; i < 8; i++) {
    //     str += `<li>
    //         <img src="img2/${i + 1}.jpg"/>
    //     </li>`
    // }
    // var oList = document.getElementById("list3");
    // oList.innerHTML = str;

    // window.onload = function () {
    //     var aLi = oList.getElementsByTagName("li");
    //     var iH= [];
    //     for (var i = 0; i < 4; i++) {
    //         aLi[i].style.position = "absolute";
    //         aLi[i].style.left = i * (202 + 20) + 'px';
    //         aLi[i].style.top = 0;
    //         iH[i] = aLi[i].offsetHeight;
    //     }

    //     for (var i = 4; i < aLi.length; i++) {
    //         var index = getIndex(iH1);
    //         aLi[i].style.position = "absolute";
    //         aLi[i].style.left = index * (202 + 20) + 'px';
    //         aLi[i].style.top = iH[index] + 20 + 'px';
    //         iH[index1] = iH[index] + aLi[i].offsetHeight + 10;
    //     }

    //     function getIndex(arr) {
    //         var min = arr[0];
    //         var index = 0;

    //         for (var i = 0; i < arr.length; i++) {
    //             if (min > arr[i]) {
    //                 min = arr[i];
    //                 index = i;
    //             }
    //         }

    //         return index;
    //     }
    // }
    // 返回顶部
    window.onscroll = function () {
        var ovip = document.getElementById("vip");
        // console.log(ovip);
        // var t = document.documentElement.scrollTop || document.body.scrollTop;
        //    console.log(t);
        ovip.addEventListener("click", function () {
            document.documentElement.scrollTop = 0;
        })
    }
    // 透明度定时器
    // var oimg = document.querySelectorAll("#list>li>img");
    // console.log(oimg);
    // window.onload=function(){
    // var b = setInterval(function(){
    //     var opa = 100;
    //     opa--;
    //     if(opa >0)
    //     oimg.style.opacity = "opa/100";
    // },500)
    // }
</script>